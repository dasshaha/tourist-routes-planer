# CRoute


**Краткое описание проекта**

1.1. Цуркина Дарья Денисовна

1.2. Группа Д-Э306

1.3. Тема проекта.
Проектирование и разработка прототипа информационной системы "CRoute" для генерации персонализированных туристических маршрутов.

1.4. Цель проекта.
Разработать архитектуру и прототип веб-приложения, позволяющего пользователю получать индивидуальный маршрут для прогулки на основе простых критериев выбора (город, стиль отдыха, активность, время).

1.5. Задачи проекта.
1) Проанализировать предметную область и формализовать требования к системе "CRoute".
2) Спроектировать логическую структуру базы данных для хранения пользователей, маршрутов и параметров.
3) Разработать модели бизнес-процессов (BPMN) и потоков данных (DFD) для ключевых сценариев использования.
4) Создать статичный прототип пользовательского интерфейса (три страницы: Главная, Настройки, Результат), демонстрирующий логику взаимодействия.
5) Сформировать полный комплект проектной документации в соответствии с заданием.

1.6. Аннотация.
CRoute — это прототип веб-сервиса, предназначенного для помощи в планировании пеших прогулок и экскурсий. Система предлагает пользователю выбрать город и несколько характеристик будущей прогулки (например, "шопинг", "активный отдых", "2 часа"). На основе этих параметров формируется персонализированный маршрут, который включает список точек интереса и их отображение на карте. Проект фокусируется на этапах проектирования: моделировании данных, процессов и интерфейсов, что служит основой для возможной будущей программной реализации.






**Документация**

2.1. Подробное описание проекта.


1. Назначение и основные возможности
Проект "CRoute" представляет собой концепцию сервиса для автоматизированного создания пешеходных маршрутов. Ключевая идея — избавить пользователя от необходимости самостоятельно искать достопримечательности и прокладывать путь между ними. Основная функциональность прототипа:

Для всех посетителей (Гость):

Просмотр информации о сервисе на главной странице.
Задание параметров маршрута: выбор города, стиля, типа активности и продолжительности.
Просмотр сгенерированного маршрута, включающего список точек (POI) и их визуализацию на интерактивной карте.


2. Роли пользователей

В рамках прототипа рассматривается одна основная роль:
Пользователь (User): Анонимный посетитель сайта, который использует сервис для генерации маршрута.


3. Основные сущности системы

- Пользователь (User): Исполнитель запроса.
- Маршрут (Route): Основной продукт системы. Содержит название, описание, список точек, параметры создания.
- Точка интереса (Point of Interest, POI): Место, включенное в маршрут (например, памятник, кафе, смотровая площадка). Имеет название, описание, координаты (широта/долгота).
- Параметры запроса (RequestParams): Критерии, заданные пользователем: город, стиль, активность, время.


4. Описание страниц (User Interface)

Главная страница (Home Page):
Назначение: Информирование о сервисе и инициация создания маршрута.
Элементы: Заголовок, описание, кнопка "Create" (переход к настройкам), блоки "Как это работает" и "Преимущества".

Страница настроек (Settings Page):
Назначение: Ввод пользовательских критериев для генерации маршрута.
Элементы: Выпадающий список для выбора города, группа радио-кнопок или селекторов для выбора параметров ("Стиль", "Активность", "Время"). Кнопки "Create a route" (отправка запроса) и "Back" (возврат).

Страница с результатом (Route Page):
Назначение: Отображение сгенерированного маршрута.
Элементы: Заголовок, блок с итогом выбранных параметров, название и описание маршрута, нумерованный список точек интереса с расчетным временем, интерактивная карта с отмеченными точками и линией маршрута. Кнопки "Share", "Save route", "Back".


5. Технологический стек (предполагаемый для реализации)

Фронтенд: HTML, CSS, JavaScript (React), библиотека для карт (Leaflet/OpenLayers).
Бэкенд: Node.js с фреймворком Express.
База данных: PostgreSQL (для хранения шаблонов маршрутов, точек, пользователей).
Внешняя интеграция: API картографии (например, OpenStreetMap), AI API (например, OpenAI для генерации описаний) — на этапе проектирования только как предполагаемый компонент на диаграммах.


**2.2. Ментальная карта.**
На карте показаны основные компоненты проекта.

<img width="561" height="401" alt="ментальная карта" src="https://github.com/user-attachments/assets/26bad5f0-0f1b-4ae9-a8ac-09c0198e5275" />


**2.3. Модель в нотации IDEF0.**
Показывает основное преобразование входных данных в результат.

<img width="825" height="1441" alt="IDEFO drawio (22)" src="https://github.com/user-attachments/assets/fc62c5a0-dd9d-4660-b303-a40e9ff3de10" />

IDEF0-диаграмма представляет собой модель процесса автоматической генерации персонализированных туристических маршрутов в системе CROUTE. В центре диаграммы находится главная функция "Сгенерировать маршрут", которая преобразует входные данные в конечный результат. На вход система получает параметры пользователя: город, предпочитаемый стиль путешествия и доступное время. Эти параметры управляются алгоритмом подбора, который определяет логику работы всей системы.

Процесс генерации разбит на четыре основных подпроцесса. Первый - "Анализ входных параметров", где происходит нормализация полученных данных и определение категорий интересов пользователя. Второй и наиболее детализированный - "Поиск и фильтрация POI", который включает извлечение данных из базы данных через SQL-запросы, применение многоуровневой фильтрации по стилю, времени и местоположению, а также геопространственный анализ и ранжирование мест по релевантности с учётом рейтинга. Третий процесс - "Оптимизация маршрута" - отвечает за расчёт логистических цепочек, учёт временных окон и балансировку нагрузки маршрута. Четвёртый - "Формирование итогового представления" - генерирует текстовое описание, визуализирует маршрут на карте и обеспечивает экспорт в различные форматы.

Механизмом выполнения этих процессов служат веб-сервер и база данных, которые обеспечивают вычислительные мощности и хранение информации. На выходе системы пользователь получает готовый маршрут с подробным описанием и картографическим представлением, полностью соответствующий его первоначальным запросам.


**2.4. Фрагменты модели в нотации DFD**.
Показывает обмен данными между пользователем, процессом обработки и хранилищем.

<img width="1111" height="492" alt="DFD drawio (1)" src="https://github.com/user-attachments/assets/109a13e7-83cc-44f3-b8ed-4634711b0028" />

DFD-диаграмма (Диаграмма потоков данных) показывает, как информация перемещается между ключевыми компонентами системы CROUTE и внешним миром. В центре схемы находятся три основных процесса: P1 (Анализ параметров), P3 (Оптимизация маршрута) и P4 (Формирование результата), которые последовательно обрабатывают запрос пользователя. Пользователь взаимодействует с системой, передавая свои параметры в процесс P1 и в итоге получая готовый маршрут с картой от процесса P4.

Для своей работы система активно использует две внешние сущности: Базу данных, которая выступает в роли хранилища информации о местах и их характеристиках, и API карт (обозначенный как "АРТ карты"), который предоставляет картографические данные и сервисы для визуализации. Потоки данных между процессами и этими сущностями показаны стрелками, что позволяет наглядно увидеть, как запрос пользователя трансформируется через несколько этапов обработки, обогащается данными из БД и картографического сервиса и в конечном итоге возвращается в виде законченного, персонализированного туристического продукта.



**2.5. Модель в нотации BPMN.**
Процесс использования системы пользователем.


<img width="650" height="560" alt="BPMN drawio (1)" src="https://github.com/user-attachments/assets/4c729c27-fc12-4a0f-b16d-cf6dfeb204e8" />

BPMN-диаграмма описывает бизнес-процесс взаимодействия пользователя с системой CROUTE. Процесс начинается с этапа входа в систему и авторизации, что обеспечивает персональный доступ и возможность сохранения истории запросов. После успешного входа пользователь переходит к настройке параметров будущего маршрута, где задаёт ключевые критерии: город, стиль путешествия и доступное время.

Следующим шагом является генерация маршрута — основной автоматизированный процесс системы, в ходе которого алгоритмы анализируют параметры, подбирают подходящие точки интереса, оптимизируют логистику и формируют итоговый план. Результатом этой генерации становится персонализированная страница с детальным описанием маршрута и его визуализацией на интерактивной карте. Диаграмма также предусматривает возможность ветвления процесса: если предложенный вариант пользователя не устроит, он может вернуться к этапу повторной генерации маршрута, чтобы скорректировать параметры и получить альтернативный вариант, создавая таким образом цикл обратной связи и улучшения результата.



**2.6. Модели в нотации UML.**
1) Показывает взаимодействие пользователя с системой.
2) Структура основных данных системы.


<img width="541" height="671" alt="UML" src="https://github.com/user-attachments/assets/8688a1c1-2431-43d8-a6e7-9432a86869ae" />

UML-диаграмма комбинирует два различных представления системы CROUTE: диаграмму вариантов использования (Use Case) и фрагмент диаграммы классов (Class Diagram). В верхней части показаны основные сценарии взаимодействия пользователя с системой: от выбора параметров маршрута и его генерации до таких функций, как просмотр на карте, сохранение в личный кабинет, возможность поделиться результатом и пересоздать маршрут при необходимости. Эти варианты использования охватывают полный цикл работы с сервисом.

В нижней части представлена статическая структура данных системы в виде ключевых классов. Класс Route (Маршрут) содержит идентификатор, название, описание и метод для генерации. Класс UserRequest (Запрос пользователя) инкапсулирует параметры, введённые пользователем: город, стиль и время. Класс PointOfInterest (точка интереса) описывает географические объекты с их координатами (широта и долгота). Эта часть диаграммы показывает, как основные бизнес-сущности системы связаны между собой и какие данные они хранят для обеспечения описанных выше процессов.



**2.7. ER диаграмма.**
Логическая модель базы данных.

<img width="391" height="421" alt="ER drawio" src="https://github.com/user-attachments/assets/f194527f-b057-45f8-a883-3bbdeed6f823" />

ER-диаграмма (Entity-Relationship Diagram) изображает упрощённую концептуальную модель данных для системы CROUTE. На схеме представлены три основные сущности, которые составляют ядро базы данных проекта. Сущность Routes (Маршруты) хранит информацию о сгенерированных путеводителях, включая их структуру и содержание. Сущность User_requests (Запросы пользователей) фиксирует исходные параметры и критерии, на основе которых был создан каждый маршрут, обеспечивая связь между желанием пользователя и конечным результатом. Сущность Points (Точки интереса) представляет собой каталог всех возможных мест, достопримечательностей и активностей, которые могут быть включены в маршруты.

Связи между этими сущностями, хотя и не показаны явно на данной схеме, подразумевают, что один запрос пользователя приводит к созданию одного маршрута, который, в свою очередь, состоит из множества точек интереса, выбранных из общего каталога. Эта модель лежит в основе хранения и управления данными, позволяя системе эффективно подбирать, комбинировать и выдавать персонализированную информацию для каждого пользователя.



**3. База данных (Postgresql).**

Код JS
const routesDatabase = [
    {
        id: 1,
        city: "Москва",
        style: "Исторический",
        activity: "Пешая прогулка",
        time: "3-4 часа",
        title: "Исторический центр Москвы",
        description: "Прогулка по самым знаковым историческим местам столицы. Увидите Кремль, Красную площадь и другие памятники архитектуры.",
        duration: "3 часа",
        distance: "5.2 км",
        points: [
            { name: "Красная площадь", time: "45 мин", description: "Главная площадь страны" },
            { name: "Храм Василия Блаженного", time: "30 мин", description: "Символ Москвы" },
            { name: "ГУМ", time: "1 час", description: "Исторический торговый комплекс" },
            { name: "Манежная площадь", time: "30 мин", description: "Пешеходная зона с фонтанами" },
            { name: "Александровский сад", time: "45 мин", description: "Парк у стен Кремля" }
        ]
    },
    {
        id: 2,
        city: "Москва",
        style: "Современный",
        activity: "Фотопрогулка",
        time: "2-3 часа",
        title: "Москва-Сити и современная архитектура",
        description: "Маршрут для любителей современной архитектуры и небоскребов. Идеально для фотосессий.",
        duration: "2.5 часа",
        distance: "4 км",
        points: [
            { name: "Москва-Сити", time: "1 час", description: "Деловой центр с небоскребами" },
            { name: "Парк Победы", time: "40 мин", description: "Мемориальный комплекс" },
            { name: "Багратион мост", time: "30 мин", description: "Пешеходный мост с панорамным видом" },
            { name: "Пресненская набережная", time: "20 мин", description: "Вид на Москву-реку" }
        ]
    },
    {
        id: 3,
        city: "Санкт-Петербург",
        style: "Исторический",
        activity: "Пешая прогулка",
        time: "5-6 часов",
        title: "Классический Петербург",
        description: "Маршрут по историческому центру Северной столицы. Дворцы, каналы и мосты.",
        duration: "5 часов",
        distance: "8 км",
        points: [
            { name: "Дворцовая площадь", time: "1 час", description: "Главная площадь города" },
            { name: "Эрмитаж", time: "2 часа", description: "Один из крупнейших музеев мира" },
            { name: "Невский проспект", time: "1 час", description: "Главная улица города" },
            { name: "Казанский собор", time: "30 мин", description: "Православный кафедральный собор" },
            { name: "Летний сад", time: "1 час", description: "Старейший парк Петербурга" }
        ]
    },
    {
        id: 4,
        city: "Казань",
        style: "Романтический",
        activity: "Пешая прогулка",
        time: "3-4 часа",
        title: "Романтическая Казань",
        description: "Уютные уголки города для пар. Сочетание восточной и европейской архитектуры.",
        duration: "3.5 часа",
        distance: "6 км",
        points: [
            { name: "Казанский Кремль", time: "1.5 часа", description: "Объект Всемирного наследия ЮНЕСКО" },
            { name: "Мечеть Кул-Шариф", time: "45 мин", description: "Главная мечеть Татарстана" },
            { name: "Набережная озера Кабан", time: "1 час", description: "Живописная набережная" },
            { name: "Петропавловский собор", time: "30 мин", description: "Памятник русского барокко" }
        ]
    },
    {
        id: 5,
        city: "Сочи",
        style: "Природный",
        activity: "Пешая прогулка",
        time: "Целый день",
        title: "Природа Сочи",
        description: "Маршрут по самым красивым природным местам курортного города.",
        duration: "6-7 часов",
        distance: "10 км",
        points: [
            { name: "Дендрарий", time: "2 часа", description: "Парк с уникальными растениями" },
            { name: "Морской порт", time: "1 час", description: "Прогулка по набережной" },
            { name: "Парк Ривьера", time: "2 часа", description: "Развлекательный парк" },
            { name: "Сочинский художественный музей", time: "1.5 часа", description: "Музей изобразительных искусств" }
        ]
    },
    {
        id: 6,
        city: "Екатеринбург",
        style: "Исторический",
        activity: "Пешая прогулка",
        time: "3-4 часа",
        title: "Исторический Екатеринбург",
        description: "Маршрут по местам, связанным с историей города и Урала.",
        duration: "3 часа",
        distance: "4.5 км",
        points: [
            { name: "Плотинка", time: "45 мин", description: "Исторический сквер" },
            { name: "Храм на Крови", time: "45 мин", description: "Храм на месте дома Ипатьева" },
            { name: "Литературный квартал", time: "1 час", description: "Музей писателей Урала" },
            { name: "Усадьба Расторгуевых-Харитоновых", time: "30 мин", description: "Памятник архитектуры" }
        ]
    }
];








